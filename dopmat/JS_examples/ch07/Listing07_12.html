<!DOCTYPE HTML>
<html><head><title>Листинг 7.12</title>
<!-- Начало сценария -->
<script type="text/javascript">
   // Переменная для записи результата
   // вызова метода setTimeout():
   var st
   // Переменная для записи ссылки на текстовый блок:
   var myblock
   // Обработчик для события загрузки документа:
   window.onload=function(){
      // Ссылка на текстовый блок:
      myblock=document.getElementById("myblock")
      // Переменная определяет время (в секундах),
      // через которое отображается диалоговое окно:
      var num=5
      // Текстовое значение для отображения
      // в текстовом блоке:
      var txt="Через "+num+" секунд после загрузки отображается сообщение "
      txt+="<button onclick='makeclick()'>Отменить</button>"
      // Вызов функции show() с временной задержкой:
      st=setTimeout(show,num*1000,"Использован метод setTimeout()")
      // Определение содержимого текстового блока:
      myblock.innerHTML=txt
   }
   // Функция для отображения сообщения:
   function show(str){
      // Отображение сообщения:
      alert(str)
      // Определение содержимого текстового блока:
      myblock.innerHTML="Сообщение было показано"
   }
   // Функция для обработки щелчка на кнопке:
   function makeclick(){
      // Отмена отложенного вызова функции show():
      clearTimeout(st)
      // Определение содержимого текстового блока:
      myblock.innerHTML="Сообщение отображаться не будет"
   }
</script>
<!-- Завершение сценария -->
</head>
<body>
   <h3>Листинг 7.12</h3>
   Используем методы <code>setTimeout()</code> и <code>clearTimeout()</code>.<br>
   <hr>
   <!-- Текстовый блок -->
   <p id="myblock"></p>
   <hr>
   </body>
</html>